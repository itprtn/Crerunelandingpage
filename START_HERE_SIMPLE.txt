================================================================================
                    PREMUNIA CRM - DATABASE SETUP
================================================================================

YOU ARE HERE: Step 1 of 3

PROJECT: gfedfklnzkgifpdxrybh (Supabase)
STATUS: Ready to deploy database

================================================================================
STEP 1: EXECUTE THE SQL (10 minutes)
================================================================================

File: scripts/01-init-supabase-FINAL.sql

Action:
  1. Copy all content from scripts/01-init-supabase-FINAL.sql
  2. Go to https://supabase.com/dashboard
  3. Select project: gfedfklnzkgifpdxrybh
  4. Click SQL Editor â†’ New Query
  5. Paste the SQL
  6. Click Run

Expected: All operations succeed with green checkmarks

Result: 7 tables + 14 policies + 13 indexes created

================================================================================
STEP 2: TEST CONNECTION (5 minutes)
================================================================================

Command:
  npm run dev

Expected in Console (F12):
  [Supabase] Connection successful âœ“

Try:
  1. Go to http://localhost:5173/
  2. Fill the contact form
  3. Submit
  4. Go to Supabase â†’ Table Editor â†’ leads â†’ should see your lead!

================================================================================
STEP 3: DEPLOY (Optional - follow DEPLOYMENT_NETLIFY.md)
================================================================================

Command:
  npm run build
  Deploy to Netlify

================================================================================
WHAT GETS CREATED
================================================================================

7 Tables:
  â€¢ leads ................. (your form submissions)
  â€¢ app_settings .......... (app config - 5 defaults added)
  â€¢ user_roles ............ (user permissions)
  â€¢ smtp_config ........... (email settings)
  â€¢ audit_logs ............ (action tracking)
  â€¢ email_history ......... (email logs)
  â€¢ lead_activities ....... (lead timeline)

14 Security Policies (RLS)
  â€¢ Public can create leads
  â€¢ Public can read app_settings
  â€¢ Auth users can manage everything

13 Performance Indexes
  â€¢ Fast queries on status, email, dates

5 Auto-Triggers
  â€¢ Timestamps auto-updated

================================================================================
FILES YOU NEED
================================================================================

âœ… scripts/01-init-supabase-FINAL.sql ...... Execute this SQL
âœ… .env.local ............................... Your credentials (already set!)
âœ… netlify.toml ............................. Deployment config
âœ… DEPLOYMENT_NETLIFY.md ................... Deploy guide

================================================================================
CREDENTIALS READY
================================================================================

Project ID: gfedfklnzkgifpdxrybh
URL: https://gfedfklnzkgifpdxrybh.supabase.co
Anon Key: (in .env.local) âœ“
Service Role Key: (in .env.local) âœ“

================================================================================
SUMMARY: 3 SIMPLE STEPS
================================================================================

1. Execute SQL (copy-paste into Supabase)
2. npm run dev (test in browser)
3. Deploy to Netlify (when ready)

================================================================================
QUESTIONS?
================================================================================

Error running SQL?        â†’ Check Supabase SQL Editor for error message
Connection test fails?    â†’ Verify .env.local exists with correct values
Deploy issues?            â†’ See DEPLOYMENT_NETLIFY.md

================================================================================
                            YOU'RE READY! ðŸš€
================================================================================
